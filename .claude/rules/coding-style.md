# 代码风格规则

## 不可变性
- 默认使用不可变数据
- 共享状态通过受控同步机制管理

## 文件组织
- 小文件优先（建议 200-400 行）
- 按功能域划分，而非按类型

## 错误处理
- Rust 必须使用 `Result<T, E>` 并通过 `?` 传播
- 避免 `unwrap()`（除非不可达）

## 输入校验
- 每个公共入口必须校验
- 拒绝不可信 JSON 字段
